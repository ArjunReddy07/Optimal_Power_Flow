function mpc = network47(gadd,dev)
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%       Real-time Distributed Optimal Power Flow 
%       LA @ EPFL, Jul. 26, 2015 
%       Contact: yuejiang.liu@epfl.ch / liuyuejiang1989@gmail.com
%       Prerequisite: YALMIP, Gurobi, (CVX)  
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%       56-bus network data 
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% gadd = 0;
mpc.dev_V = dev;

% system MVA base
mpc.baseMVA = 1;      %MVA
mpc.baseVoltage = 12.35; %kV
Z_base = (mpc.baseVoltage*1e3)^2/(mpc.baseMVA*1e6);
mpc.pf = 0.9; % Power factor
dev_V = 0.1;

base_P = mpc.baseMVA*1e6;
base_V = mpc.baseVoltage*1e3;
base_I = base_P/base_V;
base_Z = base_V^2/base_P;


% --- Line --- 
%    		fbus 	tbus	r   		x    
mpc.branch = [1    	2    	0.2590    	0.8080   
              2   	13  	0      		0   %1e-3   
              2    	3    	0.0310    	0.0920   
              3    	4    	0.0460    	0.0920   
              3   	14    	0.0920    	0.0310   
              3   	15    	0.2140    	0.0460   
              4   	20    	0.3360    	0.0610   
              4    	5    	0.1070    	0.1830   	
              5  	26    	0.0610    	0.0150    
              5   	6    	0.0150    	0.0310    
              6  	27    	0.1680    	0.0610    
              6   	7    	0.0310    	0.0460    
              7  	32    	0.0760    	0.0150    
              7   	8    	0.0150    	0.0150    
              8  	40    	0.0460    	0.0150    
              8  	39    	0.2440    	0.0460    
              8  	41    	0.1070    	0.0310    
              8  	35    	0.0760    	0.0150    
              8  	 9    	0.0310    	0.0310    
              9  	10    	0.0150    	0.0150    
              9  	42    	0.1530    	0.0460    
              10   	11    	0.1070    	0.0760   
              10   	46    	0.2290    	0.1220   
              11   	47    	0.0310    	0.0150   
              11   	12    	0.0760    	0.0460                 
              15   	18    	0.0460    	0.0150  
              15   	16    	0.1070    	0.0150  
              16   	17   	0       	0   %1e-3 
              18   	19   	0      		0   %1e-3  
              20   	21    	0.1220    	0.0920  
              20   	25    	0.2140    	0.0460  
              21   	24      0      		0   %1e-3  
              21   	22    	0.1980    	0.0460  
              22   	23   	0      		0   %1e-3          
              27   	31    	0.0460    	0.0150   
              27   	28    	0.1070    	0.0310   
              28   	29    	0.1070    	0.0310   
              29   	30    	0.0610    	0.0150   
              32   	33    	0.0460    	0.0150   
              33   	34    	0.0310    	0.0100   
              35   	36    	0.0760    	0.0150   
              35   	37    	0.0760    	0.0460   
              35   	38    	0.1070    	0.0150   
              42   	43    	0.0610    	0.0150   
              43   	44    	0.0610    	0.0150   
              43   	45    	0.0610    	0.0150   
];

From_Bus = mpc.branch(:,1);
To_Bus = mpc.branch(:,2);
R_Line = mpc.branch(:,3);
X_Line = mpc.branch(:,4);


% --- Bus --- 
%       No.     Load    PV      Shunt
mpc.injection = ...
		[1 		3		0		6 	 
		 2  	0       0       0
		 3  	0       0       1.2
         4  	0       0       0
         5  	0       0       0
         6  	0       0       0
         7  	0       0       0
         8  	0       0       0
         9  	0       0       0
        10  	0       0       0
        11  	0.67    0       0
        12  	0.45    0       0
        13  	0       1.5     0
        14  	0.89    0       0
        15  	0       0       0
        16  	0.07    0       0
        17  	0       0.4     0
        18  	0.67    0       0
        19  	0       1.5     0
        20  	0       0       0
        21  	0.45    0       0
        22  	2.23    0       0
        23  	0       1       0
        24  	0       2       0
        25  	0.45    0       0
        26  	0.20    0       0
        27  	0       0       0
        28  	0.13    0       0
        29  	0.13    0       0
        30  	0.20    0       0
        31  	0.07    0       0
        32  	0.13    0       0
        33  	0.27    0       0
        34  	0.20    0       0
        35  	0       0       0
        36  	0.27    0       0
        37  	0       0       1.8
        38  	0.45    0       0
        39  	1.34    0       0
        40  	0.13    0       0
        41  	0.67    0       0
        42  	0.13    0       0
        43  	0       0       0
        44  	0.45    0       0
        45  	0.20    0       0
        46  	0.45    0       0
        47  	0     	0       1.8]
